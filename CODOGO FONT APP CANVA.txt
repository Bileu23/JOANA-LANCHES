<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delivery Joana Lanches</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
    body {
        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        min-height: 100vh;
    }
    
    .glass-effect {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .delivery-card {
        transition: all 0.3s ease;
    }
    
    .delivery-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .btn-primary {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
        background: linear-gradient(135deg, #c0392b, #a93226);
        transform: translateY(-1px);
    }
    
    .btn-secondary {
        background: linear-gradient(135deg, #ecf0f1, #bdc3c7);
        transition: all 0.3s ease;
    }
    
    .btn-secondary:hover {
        background: linear-gradient(135deg, #bdc3c7, #95a5a6);
        transform: translateY(-1px);
    }
    
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 1000;
    }
    
    .modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .animate-bounce-in {
        animation: bounceIn 0.5s ease-out;
    }
    
    @keyframes bounceIn {
        0% { transform: scale(0.3); opacity: 0; }
        50% { transform: scale(1.05); }
        70% { transform: scale(0.9); }
        100% { transform: scale(1); opacity: 1; }
    }
    
    .pulse {
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }
</style>
</head>
<body class="font-sans">

<header class="bg-red-800 text-white p-4 shadow-lg">
    <div class="flex items-center justify-center">
        <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center mr-3">
            <span class="text-red-800 font-bold text-lg">üçî</span>
        </div>
        <div class="text-center">
            <h1 class="text-xl font-bold">Delivery Joana Lanches</h1>
            <p class="text-sm opacity-90">Sistema de Entregas</p>
        </div>
    </div>
</header>

<nav class="bg-red-700 px-4 py-2 shadow-md">
    <div class="flex justify-between text-white text-sm">
        <button onclick="showSection('inicio')" class="nav-btn px-3 py-1 rounded hover:bg-red-600 transition-colors">In√≠cio</button>
        <button onclick="showSection('entrega')" class="nav-btn px-3 py-1 rounded hover:bg-red-600 transition-colors">Entrega</button>
        <button onclick="showSection('mapa')" class="nav-btn px-3 py-1 rounded hover:bg-red-600 transition-colors">Mapa</button>
        <button onclick="showSection('valores')" class="nav-btn px-3 py-1 rounded hover:bg-red-600 transition-colors">Valores</button>
        <button onclick="showSection('relatorio')" class="nav-btn px-3 py-1 rounded hover:bg-red-600 transition-colors">Relat√≥rio</button>
        <button onclick="openWhatsApp()" class="nav-btn px-3 py-1 rounded hover:bg-red-600 transition-colors">WhatsApp</button>
    </div>
</nav>

<div class="container mx-auto p-4 max-w-md">
    <!-- Se√ß√£o In√≠cio -->
    <div id="inicio" class="section">
        <div class="glass-effect rounded-xl p-6 mb-4 text-center shadow-lg animate-bounce-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-2">Bem-vindo! üëã</h2>
            <p class="text-gray-600">Gerencie suas entregas do dia</p>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="glass-effect rounded-xl p-4 text-center shadow-lg">
                <div class="text-red-600 font-bold text-lg">Entregas Hoje</div>
                <div id="deliveryCount" class="text-2xl font-bold text-gray-800">0</div>
            </div>
            <div class="glass-effect rounded-xl p-4 text-center shadow-lg">
                <div class="text-red-600 font-bold text-lg">Total Ganho</div>
                <div id="totalEarnings" class="text-2xl font-bold text-gray-800">R$ 0,00</div>
            </div>
        </div>

        <div class="space-y-3">
            <button onclick="showSection('entrega')" class="delivery-card w-full flex items-center p-4 rounded-xl shadow-lg btn-primary text-white font-bold">
                <span class="text-2xl mr-4">üöö</span>
                <span>Fazer Entrega</span>
            </button>
            
            <button onclick="showSection('mapa')" class="delivery-card w-full flex items-center p-4 rounded-xl shadow-lg btn-secondary text-gray-800 font-bold">
                <span class="text-2xl mr-4">üìç</span>
                <span>Localizar Endere√ßo</span>
            </button>
            
            <button onclick="showSection('valores')" class="delivery-card w-full flex items-center p-4 rounded-xl shadow-lg btn-secondary text-gray-800 font-bold">
                <span class="text-2xl mr-4">üí∞</span>
                <span>Valores de Entrega</span>
            </button>
            
            <button onclick="showSection('relatorio')" class="delivery-card w-full flex items-center p-4 rounded-xl shadow-lg btn-primary text-white font-bold">
                <span class="text-2xl mr-4">üìä</span>
                <span>Relat√≥rio do Dia</span>
            </button>
            
            <button onclick="openWhatsApp()" class="delivery-card w-full flex items-center p-4 rounded-xl shadow-lg btn-secondary text-gray-800 font-bold">
                <span class="text-2xl mr-4">üí¨</span>
                <span>Enviar WhatsApp</span>
            </button>
        </div>
    </div>

    <!-- Se√ß√£o Entrega -->
    <div id="entrega" class="section hidden">
        <div class="glass-effect rounded-xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Nova Entrega üöö</h2>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-bold mb-2">Cliente:</label>
                    <input type="text" id="clientName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" placeholder="Nome do cliente">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-bold mb-2">Endere√ßo:</label>
                    <textarea id="clientAddress" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" rows="3" placeholder="Endere√ßo completo"></textarea>
                </div>
                
                <div>
                    <label class="block text-gray-700 font-bold mb-2">Valor da Entrega:</label>
                    <input type="number" id="deliveryValue" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" placeholder="0.00" step="0.01">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-bold mb-2">Observa√ß√µes:</label>
                    <textarea id="deliveryNotes" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" rows="2" placeholder="Observa√ß√µes adicionais"></textarea>
                </div>
                
                <button onclick="addDelivery()" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition-colors">
                    Registrar Entrega
                </button>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o Mapa -->
    <div id="mapa" class="section hidden">
        <div class="glass-effect rounded-xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Localizar Endere√ßo üìç</h2>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-bold mb-2">Endere√ßo:</label>
                    <input type="text" id="searchAddress" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" placeholder="Digite o endere√ßo para localizar">
                </div>
                
                <button onclick="searchLocation()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-colors">
                    Buscar no Google Maps
                </button>
                
                <div id="mapResult" class="hidden bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg">
                    <p class="font-bold">Endere√ßo encontrado!</p>
                    <p class="text-sm">Clique no link abaixo para abrir no Google Maps</p>
                    <a id="mapLink" href="#" target="_blank" class="text-blue-600 underline">Abrir no Google Maps</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o Valores -->
    <div id="valores" class="section hidden">
        <div class="glass-effect rounded-xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Valores de Entrega üí∞</h2>
            
            <div class="space-y-4">
                <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg">
                    <h3 class="font-bold mb-2">Tabela de Pre√ßos</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span>At√© 2km:</span>
                            <span class="font-bold">R$ 5,00</span>
                        </div>
                        <div class="flex justify-between">
                            <span>2km - 5km:</span>
                            <span class="font-bold">R$ 8,00</span>
                        </div>
                        <div class="flex justify-between">
                            <span>5km - 10km:</span>
                            <span class="font-bold">R$ 12,00</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Acima de 10km:</span>
                            <span class="font-bold">R$ 15,00</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded-lg">
                    <h3 class="font-bold mb-2">Calculadora de Dist√¢ncia</h3>
                    <div class="space-y-3">
                        <input type="number" id="distance" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Dist√¢ncia em km" step="0.1">
                        <button onclick="calculatePrice()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                            Calcular Pre√ßo
                        </button>
                        <div id="priceResult" class="hidden text-center font-bold text-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o Relat√≥rio -->
    <div id="relatorio" class="section hidden">
        <div class="glass-effect rounded-xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Relat√≥rio do Dia üìä</h2>
            
            <div class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg text-center">
                        <div class="font-bold text-lg" id="reportDeliveries">0</div>
                        <div class="text-sm">Entregas</div>
                    </div>
                    <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded-lg text-center">
                        <div class="font-bold text-lg" id="reportEarnings">R$ 0,00</div>
                        <div class="text-sm">Ganhos</div>
                    </div>
                </div>
                
                <div id="deliveryList" class="space-y-2">
                    <p class="text-gray-600 text-center py-4">Nenhuma entrega registrada hoje</p>
                </div>
                
                <button onclick="clearReport()" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                    Limpar Relat√≥rio
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Sucesso -->
<div id="successModal" class="modal">
    <div class="glass-effect rounded-xl p-6 m-4 max-w-sm animate-bounce-in">
        <div class="text-center">
            <div class="text-4xl mb-4">‚úÖ</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Sucesso!</h3>
            <p id="successMessage" class="text-gray-600 mb-4"></p>
            <button onclick="closeModal()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                OK
            </button>
        </div>
    </div>
</div>

<script>
let deliveries = JSON.parse(localStorage.getItem('deliveries')) || [];
let totalEarnings = parseFloat(localStorage.getItem('totalEarnings')) || 0;

function showSection(sectionName) {
    // Esconder todas as se√ß√µes
    document.querySelectorAll('.section').forEach(section => {
        section.classList.add('hidden');
    });
    
    // Mostrar a se√ß√£o selecionada
    document.getElementById(sectionName).classList.remove('hidden');
    
    // Atualizar dados se for relat√≥rio
    if (sectionName === 'relatorio') {
        updateReport();
    }
    
    // Atualizar contadores na tela inicial
    updateCounters();
}

function updateCounters() {
    document.getElementById('deliveryCount').textContent = deliveries.length;
    document.getElementById('totalEarnings').textContent = `R$ ${totalEarnings.toFixed(2)}`;
}

function addDelivery() {
    const clientName = document.getElementById('clientName').value;
    const clientAddress = document.getElementById('clientAddress').value;
    const deliveryValue = parseFloat(document.getElementById('deliveryValue').value);
    const deliveryNotes = document.getElementById('deliveryNotes').value;
    
    if (!clientName || !clientAddress || !deliveryValue) {
        alert('Por favor, preencha todos os campos obrigat√≥rios!');
        return;
    }
    
    const delivery = {
        id: Date.now(),
        client: clientName,
        address: clientAddress,
        value: deliveryValue,
        notes: deliveryNotes,
        time: new Date().toLocaleTimeString('pt-BR')
    };
    
    deliveries.push(delivery);
    totalEarnings += deliveryValue;
    
    // Salvar no localStorage
    localStorage.setItem('deliveries', JSON.stringify(deliveries));
    localStorage.setItem('totalEarnings', totalEarnings.toString());
    
    // Limpar formul√°rio
    document.getElementById('clientName').value = '';
    document.getElementById('clientAddress').value = '';
    document.getElementById('deliveryValue').value = '';
    document.getElementById('deliveryNotes').value = '';
    
    showSuccessModal('Entrega registrada com sucesso!');
    updateCounters();
}

function searchLocation() {
    const address = document.getElementById('searchAddress').value;
    
    if (!address) {
        alert('Por favor, digite um endere√ßo!');
        return;
    }
    
    const encodedAddress = encodeURIComponent(address);
    const mapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodedAddress}`;
    
    document.getElementById('mapLink').href = mapsUrl;
    document.getElementById('mapResult').classList.remove('hidden');
}

function calculatePrice() {
    const distance = parseFloat(document.getElementById('distance').value);
    
    if (!distance || distance <= 0) {
        alert('Por favor, digite uma dist√¢ncia v√°lida!');
        return;
    }
    
    let price;
    if (distance <= 2) {
        price = 5.00;
    } else if (distance <= 5) {
        price = 8.00;
    } else if (distance <= 10) {
        price = 12.00;
    } else {
        price = 15.00;
    }
    
    const resultDiv = document.getElementById('priceResult');
    resultDiv.textContent = `Pre√ßo: R$ ${price.toFixed(2)}`;
    resultDiv.classList.remove('hidden');
}

function updateReport() {
    document.getElementById('reportDeliveries').textContent = deliveries.length;
    document.getElementById('reportEarnings').textContent = `R$ ${totalEarnings.toFixed(2)}`;
    
    const deliveryList = document.getElementById('deliveryList');
    
    if (deliveries.length === 0) {
        deliveryList.innerHTML = '<p class="text-gray-600 text-center py-4">Nenhuma entrega registrada hoje</p>';
        return;
    }
    
    deliveryList.innerHTML = deliveries.map(delivery => `
        <div class="bg-white border border-gray-200 rounded-lg p-3">
            <div class="flex justify-between items-start">
                <div class="flex-1">
                    <div class="font-bold text-gray-800">${delivery.client}</div>
                    <div class="text-sm text-gray-600">${delivery.address}</div>
                    <div class="text-xs text-gray-500">${delivery.time}</div>
                </div>
                <div class="font-bold text-green-600">R$ ${delivery.value.toFixed(2)}</div>
            </div>
        </div>
    `).join('');
}

function clearReport() {
    if (confirm('Tem certeza que deseja limpar todos os dados do relat√≥rio?')) {
        deliveries = [];
        totalEarnings = 0;
        localStorage.removeItem('deliveries');
        localStorage.removeItem('totalEarnings');
        updateReport();
        updateCounters();
        showSuccessModal('Relat√≥rio limpo com sucesso!');
    }
}

function openWhatsApp() {
    const message = encodeURIComponent('Ol√°! Gostaria de fazer um pedido no Joana Lanches. Voc√™s fazem entrega?');
    const whatsappUrl = `https://wa.me/?text=${message}`;
    window.open(whatsappUrl, '_blank');
}

function showSuccessModal(message) {
    document.getElementById('successMessage').textContent = message;
    document.getElementById('successModal').classList.add('active');
}

function closeModal() {
    document.getElementById('successModal').classList.remove('active');
}

// Inicializar a aplica√ß√£o
document.addEventListener('DOMContentLoaded', function() {
    updateCounters();
});
</script>

<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96f42b01e173f617',t:'MTc1NTIxMzQ3MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
